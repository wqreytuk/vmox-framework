!function(t){window.edsUI=window.edsUI||{},edsUI.toast=function(e,n){let s=(new Date).getTime();t("body").append(edsUI.template.toast);let i=t(".jakes-notice");i.html(e),i.attr("data-id",s),i.animate({top:100},500,function(){setTimeout(function(){i.fadeOut(500),edsUI.close(s)},500)}),n&&setTimeout(function(){n()},1e3)},edsUI.alert=function(e,n,s,i,a){let o=(new Date).getTime(),l=null;switch(arguments.length){case 1:n=e,e="提示";break;case 2:l=n,n=e,e="提示"}t("body").append(this.template.alert);let c=t(".jakes-alert");c.attr("data-id",o);let d=t(".jakes-alert-header");if(t(".jakes-alert-content").html(n),d.html(e),d.prepend('<i class="fa fa-exclamation-circle">&nbsp;&nbsp;'),this._bingCloseIcon(d,o),c.css("top",-250),t(window).width()<1e3){t(window).height(),c.height()}else top=100;c.animate({top:top},500),c.css("margin-left",-c.width()/2),c.show(),t("*").blur(),t(document).keydown(function(e){13===e.keyCode&&t("div.jakes-alert-button > button").trigger("click")}),t("div.jakes-alert-button > button").click(function(){l&&l(),edsUI.close(o)})},edsUI.confirm=function(e,n,s,i,a){let o=(new Date).getTime();switch(arguments.length){case 2:i=n,n=e,e="提示",s=["确定","取消"];break;case 3:i=s,s=["确定","取消"];break;case 4:a=i,i=s,s=["确定","取消"]}t("body").append(this.template.confirm);let l=t(".jakes-confirm");l.attr("data-id",o);let c=t(".jB-confirm-header");c.html(e),c.prepend('<i class="fa fa-exclamation-circle">&nbsp;&nbsp;'),this._bingCloseIcon(c,a||function(){},o),t(".jB-confirm-content").html(n);let d=t("div.jakes-confirm-buttons > button:nth-child(1)"),r=t("div.jakes-confirm-buttons > button:nth-child(2)");if(d.html(s[0]),r.html(s[1]),l.css("top",-250),l.show(),t(window).width()<1e3){t(window).height(),l.height()}else top=100;l.animate({top:top},500),l.css("margin-left",-l.width()/2),d.click(function(){return i&&i.call(null),edsUI.close(o),!0}),r.click(function(){return a&&a.call(null),edsUI.close(o),!1})},edsUI.prompt=function(e,n,s,i){let a=(new Date).getTime();switch(arguments.length){case 2:s=n,n=["确定","取消"];break;case 3:i=s,s=n,n=["确定","取消"]}t("body").append(this.template.prompt);let o=t(".jakes-confirm");o.attr("data-id",a);let l=t(".jB-confirm-header");l.html(e),l.prepend('<i class="fa fa-exclamation-circle">&nbsp;&nbsp;'),this._bingCloseIcon(l,i||function(){},a);let c=t("div.jakes-confirm-buttons > button:nth-child(1)"),d=t("div.jakes-confirm-buttons > button:nth-child(2)");c.html(n[0]),d.html(n[1]),o.css("top",-250),o.show(),o.animate({top:100},500),c.click(function(e){"function"==typeof s&&(e.content=t(".jB-confirm-content input").val(),s.call(null)),edsUI.close(a)}),d.click(function(){i&&i(),edsUI.close(a)})},edsUI.form=function(e,n,s){t(document).on("submit",e,function(i){i.preventDefault();let a=new FormData(t(e)[0]);return t.ajax({url:t(e).attr("action"),type:t(e).attr("method"),cache:!1,data:a,processData:!1,contentType:!1,beforeSend:function(){if(s)switch(window.eds={},s[1]){case"text":t(s[0]).val()?window.eds.loaddingHtml=t(s[0]).val():window.eds.loaddingHtml=t(s[0]).html(),t(s[0]).val()?t(s[0]).val("正在提交..."):t(s[0]).html("正在提交..."),t(s[0]).addClass("disabled")}},complete:function(){if(s)switch(s[1]){case"text":t(s[0]).removeClass("disabled"),t(s[0]).val()?t(s[0]).val(window.eds.loaddingHtml):t(s[0]).html(window.eds.loaddingHtml)}},success:function(t){n&&n(t)}}),!1})},edsUI.html=function(e,n,s){let i=(new Date).getTime();t("body").append(this.template.html);let a=t(".jakes-html");a.attr("data-id",i);let o=t(".jakes-html-header"),l=t(".jakes-html-content");if(o.html(e),l.html(n),o.prepend('<i class="fa fa-exclamation-circle">&nbsp;&nbsp;'),this._bingCloseIcon(o,s,i),a.css("top",-250),t(window).width()<1e3){t(window).height(),a.height()}else top=100;a.animate({top:top},500),a.css("margin-left",-a.width()/2),a.show()},edsUI.mask=function(){t("body").append("<div class='jakes-mask'></div>");let e=t(".jakes-mask");return e.height(t(document).height()),e.show(),this},edsUI.location={hostname:"",parameters:{},init:function(t){return this.hostname=this.initHostname(t),this.parameters=this.initParameters(t),this},go:function(){window.location.href=this.href},build:function(){let t=this.hostname,e=this.getParameters();for(let n in e){if(!n)return this;if(e.hasOwnProperty(n)){let s=e[n];-1!==t.indexOf("?")?t+="&"+n+"="+s:t+="?"+n+"="+s}}return t},initHostname:function(t){let e;return t||(t=window.location.href),(e=-1!==t.indexOf("?")?t.substr(0,t.indexOf("?")):-1!==t.indexOf("#")?t.substr(0,t.indexOf("#")):t).replace(/\/$/,"")},setParameter:function(t,e){return this.parameters[t]=e,this},removeParameter:function(t){return delete this.parameters[t],this},getParameter:function(t){let e=this.getParameters();return e.hasOwnProperty(t)?e[t]:""},hasParameter:function(t){return this.getParameters().hasOwnProperty(t)},initParameters:function(t){let e=t,n={},s=e.indexOf("?");if(-1!==s){let t=e.substr(s+1),i=t.indexOf("#");-1!==i&&(t=t.substr(0,i));let a=t.split("&");for(let t=0;t<a.length;t++){let e=a[t].split("=");n[e[0]]=e[1]}}return n},getParameters:function(){return this.parameters}},edsUI.parse=function(e,n){for(let t in n)if(n.hasOwnProperty(t)){let s=new RegExp("@"+t+"@","g");e=e.replace(s,n[t])}return t(e)},edsUI.close=function(e){let n=t(".jakes-mask"),s=t(".jakes[data-id='"+e+"']");e&&s.length>0?s.remove():t(".jakes").remove(),n.length>0&&n.remove()},edsUI._bingCloseIcon=function(e,n,s){switch(e.append(this.template.closeIcon),arguments.length){case 2:s=n,n=null}t(".jakes-close-icon").click(function(){edsUI.close(s),n&&n()})},edsUI.template={toast:"<div class='jakes jakes-notice'></div>",confirm:'<div class="jakes jakes-confirm"><div class="jB-confirm-header"></div><div class="jB-confirm-content"></div><div class="jakes-confirm-buttons"> <button>按钮1</button><button>按钮2</button></div></div>',prompt:'<div class="jakes jakes-confirm"><div class="jB-confirm-header"></div><div class="jB-confirm-content"><input type="text" class="form-control"></div><div class="jakes-confirm-buttons"> <button>按钮1</button><button>按钮2</button></div></div>',closeIcon:'<i class="jakes-close-icon"></i>',alert:'<div class="jakes jakes-alert"> <div class="jakes-alert-header">警告</div> <div class="jakes-alert-content">不能删除该内容</div>  <div class="jakes-alert-button"><button id="eds-alert-btn">确定</button></div> </div>',html:'<div class="jakes jakes-html"><div class="jakes-header jakes-html-header">自定义html</div><div class="jakes-content jakes-html-content"></div></div>'},t(function(){t("a[data-edsPost]").click(function(e){e.preventDefault();let n=t(this),s=n.attr("data-edsPost");void 0===window.eds&&(window.eds={}),window.eds.me=n;let i=n.html();function a(e,n){t.post(e.attr("href"),{},function(t){t.status?(-1!=n.indexOf("toast")?edsUI.toast(t.message):edsUI.mask().alert(t.message,function(){window.location.reload()}),e.html(i)):(edsUI.mask().alert(t.message),e.html(i))})}n.html("正在提交..."),t(this).hasClass("btn-danger")||t(this).hasClass("confirm")?edsUI.mask().confirm("警告","您真的要执行此操作吗，操作将不可撤销",function(){a(window.eds.me,s)},function(){n.html(i)}):a(n,s)}),t(document).on("click",".edsUI-close",function(e){edsUI.close(t(e.toElement).closest("jakes").attr("data-id"))})})}(jQuery);